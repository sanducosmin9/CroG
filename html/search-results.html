<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CroG Search Results</title>
    <link rel="stylesheet" type="text/css" href="../css/search-results.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="header">
      <a class="homepage" href="index.html">
        <h1>CroG</h1>
      </a>
    </div>
    <div class="results-container">
      <h2>Results for "your search query here"</h2>
      <table id="results-table">
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Link</th>
        </tr>
      </table>
    </div>
    <script>
      // Parse the query results from the URL parameter
      var resultsParam = decodeURIComponent(
        window.location.search.match(/(\?|&)results=(.*?)(?=&|$)/)[2]
      );
      console.log(resultsParam);
      var results = JSON.parse(resultsParam);
      // Get the table element
      var table = document.getElementById("results-table");

      // Loop through the results and generate rows dynamically
      results.forEach((result) => {
        var row = document.createElement("tr");

        var titleCell = document.createElement("td");
        titleCell.innerHTML = result.name;
        row.appendChild(titleCell);

        var descriptionCell = document.createElement("td");
        descriptionCell.innerHTML = result.description;
        row.appendChild(descriptionCell);

        var linkCell = document.createElement("td");
        var link = document.createElement("a");
        link.href = result.link;
        link.textContent = result.link;
        linkCell.appendChild(link);
        row.appendChild(linkCell);

        table.appendChild(row);
      });
    </script>
  </body>
</html>
